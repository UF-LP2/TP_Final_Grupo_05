///////////////////////////////////////////////////////////
//  cPedidos.cs
//  Implementation of the Class cPedidos
//  Generated by Enterprise Architect
//  Created on:      09-nov.-2022 15:59:37
//  Original author: HP
///////////////////////////////////////////////////////////

using System;
using System.Collections.Generic;
using System.Text;
using System.IO;
using System.Runtime.Intrinsics.X86;
using CsvHelper.Configuration.Attributes;

public enum ePrioridad : int{EXPRESS = 1, DOSDIAS = 2, NORMAL = 3, DIFERIDO = 4};
public struct Dimensiones
{
    public double ancho;
    public double largo;
    public double alto;
}
public enum eTipoArt : int { Linea_Blanca, Electronico, Televisor, PequeElectro }

public class cPedidos {

	static private int contador = 0;
    private int NumPedido;
	private ePrioridad Prioridad;
	public cCliente Cliente;
    private string nombre;
    private Dimensiones dimens;
    private double peso;
    private double volumen;
    public eTipoArt TipoArticulo;
    private double Precio;

    public cPedidos(cCliente Cliente_, ePrioridad Prioridad_, string nombre_, double ancho_, double largo_, double alto_, double peso_, eTipoArt TipoArticulo_, double Precio_)
    {
        nombre = nombre_;
        dimens.ancho = ancho_;
        dimens.largo = largo_;
        dimens.alto = alto_;
        peso = peso_;
        volumen = (ancho_ * largo_ * alto_) * 0.000001;
        TipoArticulo = TipoArticulo_;
        NumPedido = ++contador;
		Cliente = Cliente_;
		Prioridad = Prioridad_;
        Precio = Precio_;
	}
    ~cPedidos(){

	}

    public double getPrecio() { return Precio; }
    public double getVolumen() { return volumen; }
    public int getValue()
    {
        //El value o valor es independiente, cada objeto tiene su propio valor
        int promedio = ((int)this.peso/(int)this.Prioridad)*10; //El value hace el promedio entre el peso y la prioridad del objeto
        return promedio;
    }
	public ePrioridad getPrioridad()
    {
		
        switch (this.Prioridad)
        {
			case ePrioridad.EXPRESS:
				return ePrioridad.EXPRESS;
			case ePrioridad.DOSDIAS:
				return ePrioridad.DOSDIAS;
            case ePrioridad.NORMAL:
				return ePrioridad.NORMAL;
			case ePrioridad.DIFERIDO:
				return ePrioridad.DIFERIDO;
			default:
				return ePrioridad.DIFERIDO;
		}
    }
	public void ModificarPrioridad()
    {
		Prioridad--;
    }

    public string to_String()
    {
        string texto;
        texto = Cliente.to_String();
        texto += "\nNombre: " + nombre + "\nDimensiones\nAncho: " + Convert.ToString(dimens.ancho) + " metros \nLargo: " + Convert.ToString(dimens.largo) + " metros\nAlto: " + Convert.ToString(dimens.alto);
        texto += " metros \nPeso " + Convert.ToString(peso) + " kg\nVolumen: " + Convert.ToString(volumen) + " metros cubicos\nTipo de articulo: ";
        switch(TipoArticulo)
        {
            case eTipoArt.Linea_Blanca:
                texto += "Linea Blanca";
                break;
            case eTipoArt.Electronico:
                texto += "Electronico";
                break;
            case eTipoArt.Televisor:
                texto += "Televisor";
                break;
            case eTipoArt.PequeElectro:
                texto += "Pequenio Electrdomestico";
                break;

        }
        texto += "\nNumero de Pedido: " + Convert.ToString(NumPedido);
        texto += "\nPrioridad actual: ";
        switch(Prioridad)
        {
            case ePrioridad.EXPRESS:
                texto += "Express";
                break;
            case ePrioridad.DOSDIAS:
                texto += "Dos dias";
                break;
            case ePrioridad.NORMAL:
                texto += "Normal";
                break;
            case ePrioridad.DIFERIDO:
                texto += "Diferido";
                break;
        }
        texto += "\nPrecio: " + Convert.ToString(Precio) + " pesos\n";
        return texto;
    }
}//end cPedidos